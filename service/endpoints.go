package service

import (
	"context"
	"github.com/nori-io/nori-common/endpoint"
)

func MakeSignUpEndpoint(s Service) endpoint.Endpoint {
	return func(ctx context.Context, r interface{}) (interface{}, error) {
		req := r.(SignUpRequest)
		resp := s.SignUp(ctx, req)
		return *resp, resp.Error()
	}

	return nil
}

func MakeLogInEndpoint(s Service) endpoint.Endpoint {
	return func(ctx context.Context, r interface{}) (interface{}, error) {
		req := r.(LoginRequest)
		resp := s.Login(ctx, req)
		return *resp, resp.Error()
	}
	return nil
}

func MakeLogOutEndpoint(s Service) endpoint.Endpoint {
	return func(ctx context.Context, r interface{}) (interface{}, error) {
		req := r.(LogoutRequest)
		resp := s.Logout(ctx, req)
		return *resp, resp.Error()
	}
	return nil
}
